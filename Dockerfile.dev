# Dockerfile para desenvolvimento com hot reload

FROM node:20-alpine AS development

RUN corepack enable && corepack prepare pnpm@9.12.1 --activate

WORKDIR /app

# Copiar arquivos de dependências
COPY package.json pnpm-lock.yaml ./

# Instalar todas as dependências (incluindo dev)
RUN pnpm install --frozen-lockfile

# Copiar código fonte
COPY . .

# Expor porta
EXPOSE 3000

# Comando padrão
CMD ["pnpm", "dev"]

